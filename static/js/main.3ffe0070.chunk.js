(this.webpackJsonp2048game=this.webpackJsonp2048game||[]).push([[0],{1:function(e,t,n){},11:function(e,t,n){e.exports=n(17)},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(9),l=n.n(s);n(16),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(2),i=n(3),c=n(5),u=n(4),h=n(6),v=(n(1),n(10)),f=n(7),m=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={value:e.value},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return 0===this.value?r.a.createElement("div",{className:"cell"}):r.a.createElement("div",{className:"cell"},this.value)}},{key:"value",get:function(){return this.state.value}}]),t}(r.a.Component);var d=function(e){for(var t=0;t<e.length;){for(var n=t+1;0===e[n]&&n<e.length;)n++;if(n===e.length)return e;0===e[t]?(e[t]=e[n],e[n]=0):e[t]===e[n]?(e[t]+=e[n],e[n]=0,t++):t++}return e};var y=function(e){for(var t=[],n=e.length-1;n>=0;n--)t.push(e[n]);return t};var k=function(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e},g=0,p=function(e){function t(e){var n;Object(o.a)(this,t),n=Object(c.a)(this,Object(u.a)(t).call(this,e));for(var a=e.size,r=[],s=0;s<a;s++){for(var l=[],i=0;i<a;i++)l.push(0);r.push(l)}return n.state={size:a,cells:r},n.handleKeyPress=n.handleKeyPress.bind(Object(f.a)(n)),n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"getRow",value:function(e){return this.cells[e]}},{key:"getCol",value:function(e){for(var t=[],n=0;n<this.cells.length;n++)t.push(this.cells[n][e]);return t}},{key:"setRow",value:function(e,t){this.setState((function(n){var a=n.cells;return a[e]=t,{cells:a}}))}},{key:"setCol",value:function(e,t){this.setState((function(n){for(var a=n.cells,r=0;r<a.length;r++)a[r][e]=t[r];return{cells:a}}))}},{key:"setCell",value:function(e,t,n){this.setState((function(a){var r=a.cells;return r[e][t]=n,{cells:r}}))}},{key:"handleKeyPress",value:function(e){37===e.keyCode?this.collapseLeft():38===e.keyCode?this.collapseUp():39===e.keyCode?this.collapseRight():40===e.keyCode&&this.collapseDown(),this.setRandomElement()}},{key:"collapseLeft",value:function(){for(var e=0;e<this.size;e++){var t=this.getRow(e),n=d(t.slice());this.setRow(e,n)}}},{key:"collapseRight",value:function(){for(var e=0;e<this.size;e++){var t=y(this.getRow(e)),n=d(t.slice());this.setRow(e,y(n))}}},{key:"collapseUp",value:function(){for(var e=0;e<this.size;e++){var t=this.getCol(e),n=d(t.slice());this.setCol(e,n)}}},{key:"collapseDown",value:function(){for(var e=0;e<this.size;e++){var t=y(this.getCol(e)),n=d(t.slice());this.setCol(e,y(n))}}},{key:"setRandomElement",value:function(){var e=this.generateRandomElement();this.setCell(e.row,e.col,e.val)}},{key:"generateRandomElement",value:function(){var e=k(this.getArrayOfAllIndices()),t=this.getFirstZeroValueCell(e),n=Object(v.a)(t,2),a=n[0],r=n[1];if(-1!==a)return{row:a,col:r,val:2};alert("GAME OVER")}},{key:"getArrayOfAllIndices",value:function(){for(var e=[],t=0;t<this.size;t++)for(var n=0;n<this.size;n++)e.push({r:t,c:n});return e}},{key:"getFirstZeroValueCell",value:function(e){for(var t=0,n=e[t].r,a=e[t].c;0!==this.cells[n][a];){if(++t===e.length)return-1;n=e[t].r,a=e[t].c}return[n,a]}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyPress,!1),this.setRandomElement()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress,!1)}},{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){return g+=1,r.a.createElement("div",{className:"board"},this.cells.map((function(e,t){return r.a.createElement("div",{className:"row",key:"row__"+g+"_"+t},e.map((function(e,n){return r.a.createElement("div",{key:"col__"+g+"_"+n},r.a.createElement(m,{key:"col_"+n+"_row_"+t,value:e}))})))})))}},{key:"cells",get:function(){return this.state.cells}},{key:"size",get:function(){return this.state.size}}]),t}(r.a.Component),w=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={size:4},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p,{size:this.size}))}},{key:"size",get:function(){return this.state.size}}]),t}(r.a.Component);l.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.3ffe0070.chunk.js.map